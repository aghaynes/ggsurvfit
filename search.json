[{"path":"http://www.danieldsjoberg.com/ggsurvfit/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to ggsurvfit","title":"Contributing to ggsurvfit","text":"outlines propose change ggsurvfit. detailed info contributing , tidyverse packages, please see development contributing guide.","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/CONTRIBUTING.html","id":"fixing-typos","dir":"","previous_headings":"","what":"Fixing typos","title":"Contributing to ggsurvfit","text":"can fix typos, spelling mistakes, grammatical errors documentation directly using GitHub web interface, long changes made source file. generally means ’ll need edit roxygen2 comments .R, .Rd file. can find .R file generates .Rd reading comment first line.","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/CONTRIBUTING.html","id":"bigger-changes","dir":"","previous_headings":"","what":"Bigger changes","title":"Contributing to ggsurvfit","text":"want make bigger change, please first file issue make sure someone team agrees ’s needed. ’ve found bug, please file issue illustrates bug minimal reprex (also help write unit test, needed).","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/CONTRIBUTING.html","id":"pull-request-process","dir":"","previous_headings":"Bigger changes","what":"Pull request process","title":"Contributing to ggsurvfit","text":"Fork package clone onto computer. haven’t done , recommend using usethis::create_from_github(\"ddsjoberg/ggsurvfit\", fork = TRUE). Install development dependencies devtools::install_dev_deps(), make sure package passes R CMD check running devtools::check(). R CMD check doesn’t pass cleanly, ’s good idea ask help continuing. Create Git branch pull request (PR). recommend using usethis::pr_init(\"brief-description--change\"). Make changes, commit git, create PR running usethis::pr_push(), following prompts browser. title PR briefly describe change. body PR contain Fixes #issue-number. user-facing changes, add bullet top NEWS.md (.e. just first header). Follow style described https://style.tidyverse.org/news.html. Pull request include unit testing new feature bug fix. Unit tests typically include testing using testthat package, testing images (.e. ggplots) using vdiffr package. test structure ggplot object, want first build plot using ggplot2::ggplot_build(). can programitcally test contents plot. Errors, warnings, messages created cli::cli_abort(), cli::cli_warn(), cli::cli_inform(). use convention first print error message, helpful message applies. example, New code follow tidyverse style guide. can use styler package apply styles, please don’t restyle code nothing PR. use roxygen2, Markdown syntax, documentation. use testthat unit tests. Contributions test cases included easier accept.","code":"cli::cli_abort(c(\"!\" = \"There was an error.\",                  \"i\" = \"a helpful message to resolve error\"))"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Contributing to ggsurvfit","text":"Please note ggsurvfit project released Contributor Code Conduct. contributing project agree abide terms.","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 ggsurvfit authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Daniel D. Sjoberg. Author, maintainer, copyright holder. Mark Baillie. Author.","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Sjoberg D, Baillie M (2022). ggsurvfit: Easy Flexible Time--Event Figures. https://github.com/ddsjoberg/ggsurvfit, http://www.danieldsjoberg.com/ggsurvfit/.","code":"@Manual{,   title = {ggsurvfit: Easy and Flexible Time-To-Event Figures},   author = {Daniel D. Sjoberg and Mark Baillie},   year = {2022},   note = {https://github.com/ddsjoberg/ggsurvfit, http://www.danieldsjoberg.com/ggsurvfit/}, }"},{"path":[]},{"path":"http://www.danieldsjoberg.com/ggsurvfit/index.html","id":"introduction","dir":"","previous_headings":"","what":"Introduction","title":"Easy and Flexible Time-To-Event Figures","text":"{ggsurvfit} package eases creation time--event (aka survival) endpoint figures ggplot. concise modular code creates images ready publication sharing.","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/index.html","id":"why-ggsurvfit","dir":"","previous_headings":"","what":"Why ggsurvfit?","title":"Easy and Flexible Time-To-Event Figures","text":"Raw variable names appear figure legend, e.g. \"sex=Female\". can modify x-axis scales risk table still align plot. add-function (e.g. add_confidence_interval(), etc.) written proper ggplot2 ‘geom’, meaning package functions can woven ggplot2 functions seamlessly.","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Easy and Flexible Time-To-Event Figures","text":"can install development version ggsurvfit GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"ddsjoberg/ggsurvfit\")"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/index.html","id":"examples","dir":"","previous_headings":"","what":"Examples","title":"Easy and Flexible Time-To-Event Figures","text":"Let’s begin example illustrating common Kaplan-Meier survival curve. ’s recommended use survfit2() function package, rather survival::survfit() ensure quantities able calculated environment functions called.  functions written proper ggplot geoms, can add ggplot function modify figure.  package also supports unstratified models can add multiple quantile guidelines.  can even facet…facet risktable, however.  package works seamlessly ggplot extension package, {gghighlight}.  package also plots cumulative incidence estimates presence competing events.","code":"library(ggsurvfit) library(ggplot2)  p <-    survfit2(Surv(time, status) ~ sex, data = df_lung) |>   ggsurvfit(size = 1) +   add_censor_mark() +   add_confidence_interval() +   add_risktable() +   add_quantile(color = \"gray40\", size = 1) p p +   theme(legend.position = \"bottom\") +   labs(     y = \"Probability of survival\",     x = \"Months since treatment\",     title = \"Kaplan-Meier Estimate of Survival by Sex\",     # remove the fill and color legend labels (Sex appears in title)     fill = \"\", color = \"\"   ) +    # reduce padding on edges of figure, and format axes   scale_y_continuous(label = scales::percent, expand = c(0.01, 0)) +   scale_x_continuous(breaks = 0:5*6, expand = c(0.02, 0)) survfit2(Surv(time, status) ~ 1, data = df_lung) |>   ggsurvfit(size = 1) +   add_quantile(linetype = 3, size = 1) +   add_quantile(y_value = 0.25, linetype = 2, size = 1) +   add_confidence_interval() +   add_risktable() survfit2(Surv(time, status) ~ sex, data = df_lung) |>   ggsurvfit(size = 1) +   add_censor_mark(shape = 4) +   add_quantile(linetype = 3, size = 1) +   add_confidence_interval() +   ggplot2::facet_grid(~strata) survfit2(Surv(time, status) ~ ph.ecog, data = df_lung) |>    ggsurvfit(size = 1) +   ggplot2::labs(color = \"Gender\") +   gghighlight::gghighlight(strata == \"Asymptomatic\", calculate_per_facet = TRUE) library(tidycmprsk)  cuminc(Surv(ttdeath, death_cr) ~ trt, trial) %>%   ggcuminc(outcome = \"death from cancer\", size = 1) +   add_confidence_interval() +   add_quantile(y_value = 0.20, size = 1) +   add_risktable() +   labs(x = \"Months Since Treatment\") +   theme(legend.position = \"bottom\") +   scale_y_continuous(label = scales::percent, expand = c(0.02, 0)) +   scale_x_continuous(breaks = 0:4 * 6, expand = c(0.02, 0))"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/add_censor_mark.html","id":null,"dir":"Reference","previous_headings":"","what":"Add Censor Marking — add_censor_mark","title":"Add Censor Marking — add_censor_mark","text":"Add Censor Marking","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/add_censor_mark.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add Censor Marking — add_censor_mark","text":"","code":"add_censor_mark(...)"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/add_censor_mark.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add Censor Marking — add_censor_mark","text":"... arguments passed passed ggplot2::geom_point(...) defaults shape = 3 size = 2","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/add_censor_mark.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add Censor Marking — add_censor_mark","text":"ggplot","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/add_censor_mark.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add Censor Marking — add_censor_mark","text":"","code":"survfit2(Surv(time, status) ~ 1, data = df_lung) %>%   ggsurvfit() +   add_confidence_interval() +   add_censor_mark()"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/add_confidence_interval.html","id":null,"dir":"Reference","previous_headings":"","what":"Add Confidence Interval — add_confidence_interval","title":"Add Confidence Interval — add_confidence_interval","text":"Add confidence interval represented either ribbon lines.","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/add_confidence_interval.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add Confidence Interval — add_confidence_interval","text":"","code":"add_confidence_interval(type = c(\"ribbon\", \"lines\"), ...)"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/add_confidence_interval.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add Confidence Interval — add_confidence_interval","text":"type string indicating type confidence interval draw. Must one c(\"ribbon\", \"lines\") ... arguments pass geom. type = 'ribbon': Defaults ggplot2::geom_ribbon(alpha = 0.2, color = NA, ...) type = 'lines': Defaults ggplot2::geom_step(linetype = \"dashed\", na.rm = TRUE, ...)","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/add_confidence_interval.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add Confidence Interval — add_confidence_interval","text":"ggplot","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/add_confidence_interval.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add Confidence Interval — add_confidence_interval","text":"","code":"survfit2(Surv(time, status) ~ sex, data = df_lung) %>%   ggsurvfit() +   add_confidence_interval()   survfit2(Surv(time, status) ~ 1, data = df_lung) %>%   ggsurvfit() +   add_confidence_interval(type = \"lines\")"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/add_quantile.html","id":null,"dir":"Reference","previous_headings":"","what":"Add Quantile — add_quantile","title":"Add Quantile — add_quantile","text":"Add quantile information plot.","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/add_quantile.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add Quantile — add_quantile","text":"","code":"add_quantile(y_value = 0.5, ...)"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/add_quantile.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add Quantile — add_quantile","text":"y_value Numeric value line segment drawn. Default 0.5 ... Named arguments passed ggplot2::geom_segment() default linetype = 2","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/add_quantile.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add Quantile — add_quantile","text":"ggplot","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/add_quantile.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add Quantile — add_quantile","text":"","code":"survfit2(Surv(time, status) ~ sex, data = df_lung) %>%   ggsurvfit() +   add_quantile(linetype = 2)   survfit2(Surv(time, status) ~ 1, data = df_lung) %>%   ggsurvfit() +   add_quantile(linetype = 2) +   add_quantile(y_value = 0.9, linetype = 3)"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/add_risktable.html","id":null,"dir":"Reference","previous_headings":"","what":"Add risk tables — add_risktable","title":"Add risk tables — add_risktable","text":"Add risk tables","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/add_risktable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add risk tables — add_risktable","text":"","code":"add_risktable(   times = NULL,   risktable_stats = c(\"n.risk\", \"cum.event\"),   risktable_group = c(\"strata\", \"risktable_stats\"),   risktable_height = 0.14,   stats_label = NULL,   combine_groups = FALSE,   theme = theme_ggsurvfit_risktable() )"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/add_risktable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add risk tables — add_risktable","text":"times numeric vector times risk table values placed. Default times shown x-axis. risktable_stats character vector statistics show risk table. Must one c(\"n.risk\", \"cum.event\", \"cum.censor\", \"n.event\", \"n.censor\"). Default c(\"n.risk\", \"cum.event\"). \"n.risk\" Number patients risk \"cum.event\" Cumulative number observed events \"cum.censor\" Cumulative number censored observations \"n.event\" Number events time interval \"n.censor\" Number censored observations time interval risktable_group String indicating grouping variable risk tables. Default \"strata\". \"strata\" groups risk tables per stratum present. \"risktable_stats\" groups risk tables per risktable_stats. risktable_height numeric value 0 1 indicates height used table versus height used plot, described patchwork::wrap_plots(heights=). default 0.14. stats_label named vector list custom labels. Names statistics risktable_stats= value custom label. combine_groups logical indicating whether combine statistics risk table across groups. Default FALSE theme risktable theme typically returned theme_ggsurvfit_risktable()","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/add_risktable.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add risk tables — add_risktable","text":"","code":"library(ggplot2)  p <-   df_lung %>%   survfit2(Surv(time, status) ~ sex, data = .) %>%   ggsurvfit() +   add_censor_mark() +   add_confidence_interval()  p + add_risktable()   p +   add_risktable(     risktable_stats = c(\"n.risk\", \"cum.event\"),     stats_label = list(       cum.event = \"Cumulative Observed Events\",       n.risk = \"Number at Risk\"     ),     risktable_group = \"strata\",   )   p +   add_risktable(     risktable_stats = c(\"n.risk\", \"cum.event\"),     combine_groups = TRUE   )"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/df_lung.html","id":null,"dir":"Reference","previous_headings":"","what":"Formatted Copy of survival::lung — df_lung","title":"Formatted Copy of survival::lung — df_lung","text":"copy lung data set exported survival package. data set, however, column labels numeric categorical variables now factors assigned levels.","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/df_lung.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Formatted Copy of survival::lung — df_lung","text":"","code":"df_lung"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/df_lung.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Formatted Copy of survival::lung — df_lung","text":"object class tbl_df (inherits tbl, data.frame) 228 rows 10 columns.","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/ggcuminc.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Cumulative Incidence — ggcuminc","title":"Plot Cumulative Incidence — ggcuminc","text":"Plot Cumulative Incidence","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/ggcuminc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Cumulative Incidence — ggcuminc","text":"","code":"ggcuminc(x, outcome = NULL, theme = theme_ggsurvfit(), ...)"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/ggcuminc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Cumulative Incidence — ggcuminc","text":"x 'cuminc' object created tidycmprsk::cuminc() outcome string indicating outcome include plot. Default include first competing event. theme theme typically returned theme_ggsurvfit() ... arguments passed ggplot2::geom_step(...), e.g. size = 2","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/ggcuminc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Cumulative Incidence — ggcuminc","text":"ggplot","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/ggcuminc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Cumulative Incidence — ggcuminc","text":"","code":"library(tidycmprsk)  cuminc(Surv(ttdeath, death_cr) ~ trt, trial) %>%   ggcuminc(outcome = \"death from cancer\") +   add_confidence_interval() +   add_risktable()"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/ggsurvfit-package.html","id":null,"dir":"Reference","previous_headings":"","what":"ggsurvfit: Easy and Flexible Time-To-Event Figures — ggsurvfit-package","title":"ggsurvfit: Easy and Flexible Time-To-Event Figures — ggsurvfit-package","text":"Ease creation time--event (aka survival) endpoint figures 'ggplot2'. concise modular code creates images ready publication sharing. functions add modify existing ggplot written proper 'ggplot2' geoms stat methods, allowing functions package combined functions customization 'ggplot2' 'ggplot2' extensions.","code":""},{"path":[]},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/ggsurvfit-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"ggsurvfit: Easy and Flexible Time-To-Event Figures — ggsurvfit-package","text":"Maintainer: Daniel D. Sjoberg danield.sjoberg@gmail.com (ORCID) [copyright holder] Authors: Mark Baillie bailliem@gmail.com","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/ggsurvfit.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Survival Probability — ggsurvfit","title":"Plot Survival Probability — ggsurvfit","text":"Plot Survival Probability","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/ggsurvfit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Survival Probability — ggsurvfit","text":"","code":"ggsurvfit(x, type = \"survival\", theme = theme_ggsurvfit(), ...)"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/ggsurvfit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Survival Probability — ggsurvfit","text":"x 'survfit' object type type statistic report. Default \"survival\". Must one following: theme survfit theme typically returned theme_ggsurvfit() ... arguments passed ggplot2::geom_step(...), e.g. size = 2","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/ggsurvfit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Survival Probability — ggsurvfit","text":"ggplot","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/ggsurvfit.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Survival Probability — ggsurvfit","text":"function creates ggplot figure 'survfit' object. better understand modify figure, review simplified code used internally:","code":"survfit2(Surv(time, status) ~ sex, data = df_lung) %>%   tidy_survfit() %>%   ggplot(aes(x = time, y = estimate, y              min = conf.low, ymax = conf.low,              color = strata, fill = strata)) +   geom_step()"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/ggsurvfit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Survival Probability — ggsurvfit","text":"","code":"survfit2(Surv(time, status) ~ sex, data = df_lung) %>%   ggsurvfit()   survfit2(Surv(time, status) ~ 1, data = df_lung) %>%   ggsurvfit() +   add_censor_mark() +   add_confidence_interval() +   add_quantile() +   add_risktable()"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/print_ggsurvfit.html","id":null,"dir":"Reference","previous_headings":"","what":"Print ggsurvfit object — print_ggsurvfit","title":"Print ggsurvfit object — print_ggsurvfit","text":"Print ggsurvfit object","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/print_ggsurvfit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print ggsurvfit object — print_ggsurvfit","text":"","code":"# S3 method for ggsurvfit print(x, ...)  knit_print.ggsurvfit(x, ...)  # S3 method for ggcuminc print(x, ...)  knit_print.ggcuminc(x, ...)"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/print_ggsurvfit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print ggsurvfit object — print_ggsurvfit","text":"x object class 'ggsurvfit' ... dots future extensions must empty.","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/print_ggsurvfit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print ggsurvfit object — print_ggsurvfit","text":"printed ggplot","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/print_ggsurvfit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print ggsurvfit object — print_ggsurvfit","text":"","code":"# add example"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/reexports.html","id":null,"dir":"Reference","previous_headings":"","what":"Objects exported from other packages — reexports","title":"Objects exported from other packages — reexports","text":"objects imported packages. Follow links see documentation. dplyr %>% ggplot2 %+% survival Surv, survfit","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/stepribbon.html","id":null,"dir":"Reference","previous_headings":"","what":"Step ribbon statistic — stepribbon","title":"Step ribbon statistic — stepribbon","text":"Provides stairstep values ribbon plots","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/stepribbon.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Step ribbon statistic — stepribbon","text":"","code":"stat_stepribbon(   mapping = NULL,   data = NULL,   geom = \"ribbon\",   position = \"identity\",   na.rm = FALSE,   show.legend = NA,   inherit.aes = TRUE,   direction = \"hv\",   ... )  StatStepribbon"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/stepribbon.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Step ribbon statistic — stepribbon","text":"object class StatStepRibbon (inherits Stat, ggproto, gg) length 3.","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/stepribbon.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Step ribbon statistic — stepribbon","text":"mapping Set aesthetic mappings created aes() aes_(). specified inherit.aes = TRUE (default), combined default mapping top level plot. must supply mapping plot mapping. data data displayed layer. three options: NULL, default, data inherited plot data specified call ggplot(). data.frame, object, override plot data. objects fortified produce data frame. See fortify() variables created. function called single argument, plot data. return value must data.frame, used layer data. function can created formula (e.g. ~ head(.x, 10)). geom geom use; defaults \"ribbon\" position Position adjustment, either string, result call position adjustment function. na.rm FALSE, default, missing values removed warning. TRUE, missing values silently removed. show.legend logical. layer included legends? NA, default, includes aesthetics mapped. FALSE never includes, TRUE always includes. can also named logical vector finely select aesthetics display. inherit.aes FALSE, overrides default aesthetics, rather combining . useful helper functions define data aesthetics inherit behaviour default plot specification, e.g. borders(). direction hv horizontal-vertical steps, vh vertical-horizontal steps ... arguments passed layer(). often aesthetics, used set aesthetic fixed value, like colour = \"red\" size = 3. may also parameters paired geom/stat.","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/stepribbon.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Step ribbon statistic — stepribbon","text":"https://groups.google.com/forum/?fromgroups=#!topic/ggplot2/9cFWHaH1CPs","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/stepribbon.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Step ribbon statistic — stepribbon","text":"","code":"library(ggplot2)  survfit(Surv(time, status) ~ 1, data = df_lung) %>%   survival::survfit0() %>%   broom::tidy() %>%   ggplot(aes(x = time, y = estimate, ymin = conf.low, ymax = conf.high)) +   geom_step() +   geom_ribbon(stat = \"stepribbon\", alpha = 0.2)"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/survfit2.html","id":null,"dir":"Reference","previous_headings":"","what":"Create survival curves — survfit2","title":"Create survival curves — survfit2","text":"Simple wrapper survival::survfit.formula() except environment also included returned object. Use function functions package ensure elements calculable.","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/survfit2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create survival curves — survfit2","text":"","code":"survfit2(formula, ...)"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/survfit2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create survival curves — survfit2","text":"formula formula object, must      Surv object       response left ~ operator , desired, terms       separated + operators right.      One terms may strata object.     single survival curve right hand side ~ 1. ... Arguments passed survival::survfit.formula data data frame interpret variables named formula,      subset weights arguments. weights weights must nonnegative strongly recommended       strictly positive, since zero weights ambiguous, compared      use subset argument. subset expression saying subset rows data      used fit. na.action missing-data filter function, applied model frame,      subset argument used.      Default options()$na.action. stype method used estimation survival curve:     1 = direct,  2 = exp(cumulative hazard). ctype method used estimation cumulative     hazard: 1 = Nelson-Aalen formula, 2 = Fleming-Harrington correction     tied events. id identifies individual subjects, given person can multiple     lines data. cluster used group observations infinitesimal     jackknife variance estimate, defaults value id. robust logical, function compute robust variance.     multi-state survival curves true default.     single state data see details, . istate multi-state models, identifies initial state     subject observation timefix process times aeqSurv function   eliminate potential roundoff issues. etype variable giving type event.  superseded     multi-state Surv objects deprecated; see example . error argument longer used","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/survfit2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create survival curves — survfit2","text":"surfit2 object","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/survfit2.html","id":"survfit-vs-survfit-","dir":"Reference","previous_headings":"","what":"survfit2() vs survfit()","title":"Create survival curves — survfit2","text":"functions identical inputs, need survfit2()? difference survfit2() survival::survfit() former tracks environment call function made. definition survfit2() unremarkably simple:   environment needed ensure survfit call can accurately reconstructed parsed point post estimation. call parsed p-values reported labels created. example, raw variable names appear output stratified survfit() result, e.g. \"sex=Female\". using survfit2(), originating data frame formula may parsed raw variable names removed. functions package work survfit2() survfit(); however, output styled preferable format survfit2().","code":"survfit2 <- function(formula, ...) {   # construct survfit object   survfit <- survival::survfit(formula, ...)    # add the environment   survfit$.Environment = rlang::current_env()    # add class and return   class(survfit) <- c(\"survfit2\", \"survfit\")   survfit }"},{"path":[]},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/survfit2.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create survival curves — survfit2","text":"","code":"survfit2(Surv(time, status) ~ sex, data = df_lung) #> Call: survfit(formula = formula, data = ..1) #>  #>              n events median 0.95LCL 0.95UCL #> sex=Male   138    112   8.87    6.97    10.2 #> sex=Female  90     53  14.00   11.43    18.1"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/survfit_pvalue.html","id":null,"dir":"Reference","previous_headings":"","what":"Compare KM curves — survfit_pvalue","title":"Compare KM curves — survfit_pvalue","text":"Returns p-values calculated survival::survdiff()","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/survfit_pvalue.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compare KM curves — survfit_pvalue","text":"","code":"survfit_pvalue(x, test = c(\"logrank\", \"wilcoxon\", \"tarone_ware\"), rho = NULL)"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/survfit_pvalue.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compare KM curves — survfit_pvalue","text":"x object class 'survfit' test one c(\"logrank\", \"wilcoxon\", \"tarone_ware\") rho Default NULL. NULL, passed survdiff(rho=) test= argument ignored.","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/survfit_pvalue.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compare KM curves — survfit_pvalue","text":"p-value","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/survfit_pvalue.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compare KM curves — survfit_pvalue","text":"","code":"survfit2(Surv(time, status) ~ sex, data = df_lung) %>%   survfit_pvalue(test = \"logrank\") #> [1] 0.001311165"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/theme_ggsurvfit.html","id":null,"dir":"Reference","previous_headings":"","what":"Survfit Plot Themes — theme_ggsurvfit","title":"Survfit Plot Themes — theme_ggsurvfit","text":"Returns ggplot list calls defining theme.","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/theme_ggsurvfit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Survfit Plot Themes — theme_ggsurvfit","text":"","code":"theme_ggsurvfit(theme = c(\"default\", \"none\"))"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/theme_ggsurvfit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Survfit Plot Themes — theme_ggsurvfit","text":"theme must one c(\"default\", \"none\") \"default\" default plot styling \"none\" styling applied risk table; equivalent using theme = NULL","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/theme_ggsurvfit_risktable.html","id":null,"dir":"Reference","previous_headings":"","what":"Risk Table Themes — theme_ggsurvfit_risktable","title":"Risk Table Themes — theme_ggsurvfit_risktable","text":"Returns ggplot list calls defining theme meant applied risk table.","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/theme_ggsurvfit_risktable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Risk Table Themes — theme_ggsurvfit_risktable","text":"","code":"theme_ggsurvfit_risktable(theme = c(\"default\", \"boxed\", \"none\"))"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/theme_ggsurvfit_risktable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Risk Table Themes — theme_ggsurvfit_risktable","text":"theme must one c(\"default\", \"boxed\", \"none\") \"default\" clean, simple default theme \"boxed\" default theme box around risk table \"none\" styling applied risk table; equivalent using theme = NULL","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/theme_ggsurvfit_risktable.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Risk Table Themes — theme_ggsurvfit_risktable","text":"","code":"p <- survfit2(Surv(time, status) ~ 1, data = df_lung) %>% ggsurvfit()  # default ------------------------------------ p + add_risktable(theme = theme_ggsurvfit_risktable(\"default\"))   # boxed -------------------------------------- p + add_risktable(theme = theme_ggsurvfit_risktable(\"boxed\"))   # none --------------------------------------- p + add_risktable(theme = theme_ggsurvfit_risktable(\"none\"))"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/tidy_cuminc.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy a cuminc object — tidy_cuminc","title":"Tidy a cuminc object — tidy_cuminc","text":"tidycmprsk package exports tidier \"cuminc\" objects. function adds top returns information.","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/tidy_cuminc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy a cuminc object — tidy_cuminc","text":"","code":"tidy_cuminc(x, times = NULL)"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/tidy_cuminc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tidy a cuminc object — tidy_cuminc","text":"x 'cuminc' object created tidycmprsk::cuminc() times numeric vector times. Default NULL, returns observed times.","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/tidy_cuminc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy a cuminc object — tidy_cuminc","text":"tibble","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/tidy_cuminc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Tidy a cuminc object — tidy_cuminc","text":"","code":"library(tidycmprsk)  cuminc(Surv(ttdeath, death_cr) ~ trt, trial) %>%   tidy_cuminc() #> # A tibble: 228 × 16 #>     time outcome  strata estim…¹ std.e…² conf.low conf.…³ n.risk n.event n.cen…⁴ #>    <dbl> <chr>    <fct>    <dbl>   <dbl>    <dbl>   <dbl>  <int>   <int>   <int> #>  1  0    death f… Drug A  0       0      NA       NA          98       0       0 #>  2  3.53 death f… Drug A  0       0      NA       NA          98       0       0 #>  3  7.27 death f… Drug A  0.0102  0.0102  8.84e-4  0.0503     97       1       0 #>  4  7.38 death f… Drug A  0.0204  0.0144  3.90e-3  0.0652     96       1       0 #>  5  8.37 death f… Drug A  0.0204  0.0144  3.90e-3  0.0652     95       0       0 #>  6 10.1  death f… Drug A  0.0204  0.0144  3.90e-3  0.0652     94       0       0 #>  7 10.3  death f… Drug A  0.0204  0.0144  3.90e-3  0.0652     93       0       0 #>  8 10.5  death f… Drug A  0.0204  0.0144  3.90e-3  0.0652     92       0       0 #>  9 11.4  death f… Drug A  0.0306  0.0175  8.17e-3  0.0798     91       1       0 #> 10 11.8  death f… Drug A  0.0306  0.0175  8.17e-3  0.0798     90       0       0 #> # … with 218 more rows, 6 more variables: cum.event <int>, cum.censor <int>, #> #   strata_label <chr>, estimate_type <chr>, estimate_type_label <chr>, #> #   monotonicity_type <chr>, and abbreviated variable names ¹​estimate, #> #   ²​std.error, ³​conf.high, ⁴​n.censor #> # ℹ Use `print(n = ...)` to see more rows, and `colnames()` to see all variable names"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/tidy_survfit.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy a survfit object — tidy_survfit","title":"Tidy a survfit object — tidy_survfit","text":"broom package exports tidier \"survfit\" objects. function adds top returns information. function also utilizes additional information stored survfit object created survfit2(). recommended always use function survfit2().","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/tidy_survfit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy a survfit object — tidy_survfit","text":"","code":"tidy_survfit(x, times = NULL, type = c(\"survival\", \"risk\", \"cumhaz\"))"},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/tidy_survfit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tidy a survfit object — tidy_survfit","text":"x 'survfit' object times numeric vector times. Default NULL, returns observed times. type type statistic report. Default \"survival\". Must one following:","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/tidy_survfit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy a survfit object — tidy_survfit","text":"tibble","code":""},{"path":"http://www.danieldsjoberg.com/ggsurvfit/reference/tidy_survfit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Tidy a survfit object — tidy_survfit","text":"","code":"survfit2(Surv(time, status) ~ factor(ph.ecog), data = df_lung) %>%   tidy_survfit() #> # A tibble: 220 × 16 #>     time n.risk n.event n.censor cum.e…¹ cum.c…² estim…³ std.e…⁴ conf.…⁵ conf.…⁶ #>    <dbl>  <dbl>   <dbl>    <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> #>  1 0         63       0        0       0       0   1      0        1       1     #>  2 0.164     63       1        0       1       0   0.984  0.0160   1       0.954 #>  3 0.361     62       1        0       2       0   0.968  0.0228   1       0.926 #>  4 0.493     61       1        0       3       0   0.952  0.0282   1       0.901 #>  5 1.02      60       1        0       4       0   0.937  0.0328   0.999   0.878 #>  6 1.74      59       1        0       5       0   0.921  0.0370   0.990   0.856 #>  7 2.14      58       1        0       6       0   0.905  0.0409   0.980   0.835 #>  8 2.66      57       1        0       7       0   0.889  0.0445   0.970   0.815 #>  9 4.83      56       1        0       8       0   0.873  0.0480   0.959   0.795 #> 10 5.45      55       1        0       9       0   0.857  0.0514   0.948   0.775 #> # … with 210 more rows, 6 more variables: strata <fct>, estimate_type <chr>, #> #   estimate_type_label <chr>, monotonicity_type <chr>, strata_label <chr>, #> #   conf.level <dbl>, and abbreviated variable names ¹​cum.event, ²​cum.censor, #> #   ³​estimate, ⁴​std.error, ⁵​conf.high, ⁶​conf.low #> # ℹ Use `print(n = ...)` to see more rows, and `colnames()` to see all variable names"},{"path":[]},{"path":"http://www.danieldsjoberg.com/ggsurvfit/news/index.html","id":"ggsurvfit-0009000","dir":"Changelog","previous_headings":"","what":"ggsurvfit 0.0.0.9000","title":"ggsurvfit 0.0.0.9000","text":"Added NEWS.md file track changes package.","code":""}]
